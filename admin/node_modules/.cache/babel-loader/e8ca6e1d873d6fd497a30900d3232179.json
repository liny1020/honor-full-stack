{"remainingRequest":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/babel-loader/lib/index.js!/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/src/views/CategoryEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/src/views/CategoryEdit.vue","mtime":1580895628527},{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL1VzZXJzL2xpbnkvRGVza3RvcC9GRS1Xb3JrU3BhY2UvaG9ub3ItZnVsbC1zdGFjay9hZG1pbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaWQ6IHt9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbW9kZWw6IHt9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgc2F2ZTogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX3NhdmUgPSBfYXN5bmNUb0dlbmVyYXRvcigKICAgICAgLyojX19QVVJFX18qLwogICAgICByZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXMsIF9yZXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghdGhpcy5pZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kaHR0cC5wdXQoImNhdGVnb3JpZXMvIi5jb25jYXQodGhpcy5pZCksIHRoaXMubW9kZWwpOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kaHR0cC5wb3N0KCJjYXRlZ29yaWVzIiwgdGhpcy5tb2RlbCk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIF9yZXMgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2NhdGVnb3JpZXMvbGlzdCIpOwogICAgICAgICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICJzdWNjZXNzIiwKICAgICAgICAgICAgICAgICAgbWVzc2FnZTogIuS/neWtmOaIkOWKnyIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIHNhdmUoKSB7CiAgICAgICAgcmV0dXJuIF9zYXZlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBzYXZlOwogICAgfSgpLAogICAgZmV0Y2g6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9mZXRjaCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgiY2F0ZWdvcmllcy8iLmNvbmNhdCh0aGlzLmlkKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHJlcyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgdGhpcy5tb2RlbCA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmZXRjaCgpIHsKICAgICAgICByZXR1cm4gX2ZldGNoLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmZXRjaDsKICAgIH0oKSwKICAgIGZldGNoUGFyZW50T3B0aW9uczogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX2ZldGNoUGFyZW50T3B0aW9ucyA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgiY2F0ZWdvcmllcyIpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIHRoaXMucGFyZW50cyA9IHJlcy5kYXRhOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMsIHRoaXMpOwogICAgICB9KSk7CgogICAgICBmdW5jdGlvbiBmZXRjaFBhcmVudE9wdGlvbnMoKSB7CiAgICAgICAgcmV0dXJuIF9mZXRjaFBhcmVudE9wdGlvbnMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIGZldGNoUGFyZW50T3B0aW9uczsKICAgIH0oKQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuaWQgJiYgdGhpcy5mZXRjaCgpOwogICAgdGhpcy5mZXRjaFBhcmVudE9wdGlvbnMoKTsKICB9Cn07"},{"version":3,"sources":["CategoryEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;AAoBA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AADA,GADA;AAIA,EAAA,IAJA,kBAIA;AACA,WAAA;AACA,MAAA,KAAA,EAAA;AADA,KAAA;AAGA,GARA;AASA,EAAA,OAAA,EAAA;AACA,IAAA,IADA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,qBAEA,KAAA,EAFA;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAIA,KAAA,KAAA,CAAA,GAAA,sBAAA,KAAA,EAAA,GAAA,KAAA,KAAA,CAJA;;AAAA;AAIA,gBAAA,GAJA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAOA,KAAA,KAAA,CAAA,IAAA,CAAA,YAAA,EAAA,KAAA,KAAA,CAPA;;AAAA;AAOA,gBAAA,IAPA;;AAAA;AASA,qBAAA,OAAA,CAAA,IAAA,CAAA,kBAAA;AACA,qBAAA,QAAA,CAAA;AACA,kBAAA,IAAA,EAAA,SADA;AAEA,kBAAA,OAAA,EAAA;AAFA,iBAAA;;AAVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAeA,IAAA,KAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAgBA,KAAA,KAAA,CAAA,GAAA,sBAAA,KAAA,EAAA,EAhBA;;AAAA;AAgBA,gBAAA,GAhBA;AAiBA,qBAAA,KAAA,GAAA,GAAA,CAAA,IAAA;;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAmBA,IAAA,kBAnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAoBA,KAAA,KAAA,CAAA,GAAA,CAAA,YAAA,CApBA;;AAAA;AAoBA,gBAAA,GApBA;AAqBA,qBAAA,OAAA,GAAA,GAAA,CAAA,IAAA;;AArBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,GATA;AAiCA,EAAA,OAjCA,qBAiCA;AACA,SAAA,EAAA,IAAA,KAAA,KAAA,EAAA;AACA,SAAA,kBAAA;AACA;AApCA,CAAA","sourcesContent":["<template>\n  <div class=\"about\">\n    <h1>{{id?'编辑':'新建'}}分类</h1>\n    <el-form label-width=\"120px\" @submit.native.prevent=\"save\">\n      <el-form-item label=\"名称\">\n        <el-input v-model=\"model.name\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"上级分类\">\n        <el-select v-model=\"model.parents\">\n          <el-option v-for=\"item in parents\" :key=\"item._id\" :label=\"item.name\" :value=\"item._id\"></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" native-type=\"submit\">保存</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    id: {}\n  },\n  data() {\n    return {\n      model: {}\n    };\n  },\n  methods: {\n    async save() {\n      if (this.id) {\n        // eslint-disable-next-line no-unused-vars\n        const res = await this.$http.put(`categories/${this.id}`, this.model);\n      } else {\n        // eslint-disable-next-line no-unused-vars\n        const res = await this.$http.post(\"categories\", this.model);\n      }\n      this.$router.push(\"/categories/list\");\n      this.$message({\n        type: \"success\",\n        message: \"保存成功\"\n      });\n    },\n    async fetch() {\n      const res = await this.$http.get(`categories/${this.id}`);\n      this.model = res.data;\n    },\n    async fetchParentOptions() {\n      const res = await this.$http.get(\"categories\");\n      this.parents = res.data;\n    }\n  },\n  created() {\n    this.id && this.fetch();\n    this.fetchParentOptions();\n  }\n};\n</script>"],"sourceRoot":"src/views"}]}