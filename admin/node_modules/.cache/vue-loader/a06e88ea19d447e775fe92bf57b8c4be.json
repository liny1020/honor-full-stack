{"remainingRequest":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/src/views/CategoryList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/src/views/CategoryList.vue","mtime":1581065217136},{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/liny/Desktop/FE-WorkSpace/honor-full-stack/admin/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCl7CiAgICByZXR1cm57CiAgICAgIGl0ZW1zOltdCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBmZXRjaCgpIHsKICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy4kaHR0cC5nZXQoJ3Jlc3QvY2F0ZWdvcmllcycpCiAgICAgIHRoaXMuaXRlbXMgPSByZXMuZGF0YQogICAgfSwKICAgIGFzeW5jIHJlbW92ZShpZCkgewogICAgICB0aGlzLiRjb25maXJtKCfnoa7lrpropoHliKDpmaTmlLnpobnlkJc/Jywi5o+Q56S6IiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihhc3luYygpID0+IHsKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnMKICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLiRodHRwLmRlbGV0ZShgcmVzdC9jYXRlZ29yaWVzLyR7aWR9YCkKICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8nCiAgICAgICAgfSkKICAgICAgICB0aGlzLmZldGNoKCkKICAgICAgfSkKICAgIH0KICB9LAogIGNyZWF0ZWQoKXsKICAgIHRoaXMuZmV0Y2goKQogIH0KfQo="},{"version":3,"sources":["CategoryList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CategoryList.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <h1>分类列表</h1>\n    <el-table :data=\"items\">\n      <el-table-column prop=\"_id\" label=\"ID\" width=\"220\"></el-table-column>\n      <el-table-column prop=\"name\" label=\"分类名称\" width=\"150\"></el-table-column>\n      <el-table-column prop=\"parent.name\" label=\"上级分类\" width=\"150\"></el-table-column>\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"180\">\n        <template slot-scope=\"scope\">\n          <el-button type=\"text\" size=\"samll\" @click=\"$router.push(`/categories/edit/${scope.row._id}`)\">编辑</el-button>\n          <el-button type=\"text\" size=\"samll\" @click=\"remove(scope.row._id)\">删除</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n  </div>\n</template>\n\n<script>\nexport default {\n  data(){\n    return{\n      items:[]\n    }\n  },\n  methods: {\n    async fetch() {\n      const res = await this.$http.get('rest/categories')\n      this.items = res.data\n    },\n    async remove(id) {\n      this.$confirm('确定要删除改项吗?',\"提示\", {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(async() => {\n        // eslint-disable-next-line no-unused-vars\n        const res = await this.$http.delete(`rest/categories/${id}`)\n        this.$message({\n          type: 'success',\n          message: '删除成功'\n        })\n        this.fetch()\n      })\n    }\n  },\n  created(){\n    this.fetch()\n  }\n}\n</script>"]}]}